import{_ as I,r as m,c as _,o as x,z as V,a as n,b as t,s as c,i as h,u as A,k as y,e as M,F as b,d as P,t as u,B as T,f as l,j as F,w as R,A as D}from"./index-DovkYrFm.js";const E="/Ferreteria/assets/emptyCart-Bs2BA70O.png",O={class:"container"},$={class:"cart-view"},z={key:0,class:"empty"},J=["src"],U={key:1},j={class:"cart-table"},K={"data-label":"Producto",class:"product-cell"},L=["src"],Y={class:"name"},G={class:"center","data-label":"Precio"},H={class:"center","data-label":"Cantidad"},Q={class:"qty"},W=["onClick"],X=["onUpdate:modelValue"],Z=["onClick"],tt={class:"center","data-label":"Subtotal"},et={class:"actions","data-label":"Acciones"},st=["onClick"],at={class:"summary"},ot={class:"summary-left"},nt={class:"summary-right"},lt={class:"totals"},f="cart",rt={__name:"Cart",setup(ct){const C=T(),p=m(null),o=m([]),r=m({firstName:"",lastName:"",email:"",phone:"",address:""});_(()=>r.value.firstName.trim()!==""&&r.value.lastName.trim()!==""&&r.value.email.trim()!==""&&r.value.phone.trim()!==""&&r.value.address.trim()!==""),x(()=>{try{const s=localStorage.getItem(f);s?o.value=JSON.parse(s):o.value=[]}catch{o.value=[]}}),V(o,s=>{localStorage.setItem(f,JSON.stringify(s))},{deep:!0});const k=_(()=>o.value.reduce((s,e)=>s+(Number(e.qty)||0),0)),g=_(()=>o.value.reduce((s,e)=>s+(Number(e.price)||0)*(Number(e.qty)||0),0));function d(s){return new Intl.NumberFormat(void 0,{style:"currency",currency:"ARS"}).format(s||0)}function N(s){s.qty=Number(s.qty||0)+1}function q(s){const e=Number(s.qty||0)-1;s.qty=e>0?e:1}function w(s){o.value=o.value.filter(e=>e.id!==s)}function S(){o.value=[]}function B(){typeof p.value?.showModal=="function"?p.value.showModal():C.push({name:"Checkout"}).catch(()=>{})}return(s,e)=>{const v=M("router-link");return l(),n(b,null,[e[6]||(e[6]=t("h1",{class:"cart-title"},[t("i",{class:"fa-solid fa-cart-shopping"}),c(" Mi carrito ")],-1)),t("div",O,[t("section",$,[o.value.length===0?(l(),n("div",z,[t("img",{src:A(E),alt:"Carrito vacío"},null,8,J),e[1]||(e[1]=t("p",null,"Tu carrito está vacío",-1)),h(v,{to:"/",class:"btn"},{default:y(()=>[...e[0]||(e[0]=[c("Continuar comprando",-1)])]),_:1})])):(l(),n("div",U,[t("table",j,[e[2]||(e[2]=t("thead",null,[t("tr",null,[t("th",null,"Producto"),t("th",{class:"center"},"Precio"),t("th",{class:"center"},"Cantidad"),t("th",{class:"center"},"Subtotal"),t("th")])],-1)),t("tbody",null,[(l(!0),n(b,null,P(o.value,a=>(l(),n("tr",{key:a.id},[t("td",K,[a.image?(l(),n("img",{key:0,src:a.image,class:"thumb"},null,8,L)):F("",!0),t("span",Y,u(a.name),1)]),t("td",G,u(d(a.price)),1),t("td",H,[t("div",Q,[t("button",{onClick:i=>q(a)},"−",8,W),R(t("input",{type:"number","onUpdate:modelValue":i=>a.qty=i,min:"1"},null,8,X),[[D,a.qty,void 0,{number:!0}]]),t("button",{onClick:i=>N(a)},"+",8,Z)])]),t("td",tt,u(d(a.price*a.qty)),1),t("td",et,[t("button",{class:"remove",onClick:i=>w(a.id)}," Eliminar ",8,st)])]))),128))])]),t("div",at,[t("div",ot,[t("button",{class:"btn danger",onClick:S},"Borrar todo"),h(v,{to:"/",class:"btn"},{default:y(()=>[...e[3]||(e[3]=[c("Seguir comprando",-1)])]),_:1})]),t("div",nt,[t("div",lt,[t("span",null,[e[4]||(e[4]=c("Items: ",-1)),t("strong",null,u(k.value),1)]),t("span",null,[e[5]||(e[5]=c("Total: ",-1)),t("strong",null,u(d(g.value)),1)])]),t("button",{class:"btn primary",onClick:B}," Realizar pedido ")])])]))])])],64)}}},it=I(rt,[["__scopeId","data-v-d4b58292"]]);export{it as default};
