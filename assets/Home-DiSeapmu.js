import{_ as I,r as p,o as P,g as x,c as E,a as t,b as e,t as r,u as w,F as f,d as g,e as D,f as s,w as O,v as z,h as B,i as N,j as b,k as F,n as W,l as S}from"./index-DovkYrFm.js";import{e as j}from"./emptyImg-CXXJHA4n.js";import{g as L,a as V}from"./events-BJOWP3dG.js";const A={class:"full-width"},H={class:"christmas-carousel"},M={class:"carousel-container"},q={class:"carousel-wrapper"},G={class:"offer-card"},J=["src","alt"],K=["src"],Q={class:"offer-content"},R={class:"price-section"},T={key:0,class:"original-price"},U={class:"discount-price"},X={class:"discount-badge"},Y={class:"carousel-dots"},Z=["onClick"],ee={__name:"Christmas",props:{data:Object},setup(k){const d=k.data,n=p([]),o=p(4),y=()=>{window.innerWidth<640?o.value=1:window.innerWidth<1024?o.value=2:o.value=4};P(async()=>{y(),window.addEventListener("resize",y);for(const l of d.product_ids){const i=await x(l);i&&n.value.push(i)}});const u=E(()=>{const l=[];for(let i=0;i<n.value.length;i+=o.value)l.push(n.value.slice(i,i+o.value));return l}),_=p(0),C=()=>{_.value=(_.value+1)%u.value.length},h=()=>{_.value=(_.value-1+u.value.length)%u.value.length};return(l,i)=>{const $=D("router-link");return s(),t("div",A,[e("div",H,[e("h1",null,r(w(d).title),1),e("div",M,[e("button",{class:"carousel-btn prev",onClick:h},"❮"),e("div",q,[(s(!0),t(f,null,g(u.value,(v,a)=>O((s(),t("div",{class:"carousel-slide",key:a},[e("div",G,[(s(!0),t(f,null,g(v,c=>(s(),t("div",{key:c.id,class:"product-item"},[c.image_key?(s(),t("img",{key:0,src:w(B)(c),alt:c.product,loading:"lazy",class:"product-image"},null,8,J)):(s(),t("img",{key:1,src:w(j),alt:""},null,8,K)),e("div",Q,[e("h2",null,r(c.product),1),e("p",null,r(c.description),1),e("div",R,[c.originalPrice?(s(),t("span",T," $"+r(c.originalPrice),1)):b("",!0),e("span",U,"$"+r(c.price),1)]),e("span",X,"-"+r(Number(c.discount).toFixed(2))+"%",1),N($,{to:{name:"ProductDetail",params:{id:c.id}},class:"product-link"},{default:F(()=>[...i[0]||(i[0]=[e("button",{class:"btn-buy"},"Agregar al carrito",-1)])]),_:1},8,["to"])])]))),128))])])),[[z,_.value===a]])),128))]),e("button",{class:"carousel-btn next",onClick:C},"❯")]),e("div",Y,[(s(!0),t(f,null,g(u.value,(v,a)=>(s(),t("span",{key:a,class:W({active:a===_.value}),onClick:c=>_.value=a},null,10,Z))),128))])])])}}},se=I(ee,[["__scopeId","data-v-32453b6a"]]),te={class:"full-width"},ae={class:"special-offers"},le={class:"carousel-container"},ne={class:"carousel-wrapper"},oe={class:"offer-card"},ie=["src","alt"],ce=["src"],re={class:"offer-content"},ue={key:0},de={class:"price-section"},_e={key:0,class:"original-price"},ve={class:"discount-price"},pe={class:"discount-badge"},he={class:"carousel-dots"},me=["onClick"],fe={__name:"SpecialOffers",props:{data:Object},setup(k){const m=k,d=p([]),n=p(0),o=p(4),y=()=>{window.innerWidth<640?o.value=1:window.innerWidth<1024?o.value=2:o.value=4};P(async()=>{y(),window.addEventListener("resize",y);for(const h of m.data.product_ids){const l=await x(h);l&&d.value.push(l)}});const u=E(()=>{const h=[];for(let l=0;l<d.value.length;l+=o.value)h.push(d.value.slice(l,l+o.value));return h}),_=()=>{n.value=(n.value+1)%u.value.length},C=()=>{n.value=(n.value-1+u.value.length)%u.value.length};return(h,l)=>{const i=D("router-link");return s(),t("div",te,[e("div",ae,[e("h1",null,r(k.data.title),1),e("div",le,[e("button",{class:"carousel-btn prev",onClick:C},"❮"),e("div",ne,[(s(!0),t(f,null,g(u.value,($,v)=>O((s(),t("div",{class:"carousel-slide",key:v},[e("div",oe,[(s(!0),t(f,null,g($,a=>(s(),t("div",{key:a.id,class:"product-item"},[a.image_key?(s(),t("img",{key:0,src:w(B)(a),alt:a.product,loading:"lazy",class:"product-image"},null,8,ie)):(s(),t("img",{key:1,src:w(j),alt:""},null,8,ce)),e("div",re,[e("h2",null,r(a.product),1),a.description?(s(),t("p",ue,r(a.description),1)):b("",!0),e("div",de,[a.originalPrice?(s(),t("span",_e," $"+r(a.originalPrice),1)):b("",!0),e("span",ve," $"+r(a.price),1)]),e("span",pe," -"+r(Number(a.discount).toFixed(0))+"% ",1)]),N(i,{to:{name:"ProductDetail",params:{id:a.id}},class:"product-link"},{default:F(()=>[...l[0]||(l[0]=[e("button",{class:"btn-buy"},"Agregar al carrito",-1)])]),_:1},8,["to"])]))),128))])])),[[z,n.value===v]])),128))]),e("button",{class:"carousel-btn next",onClick:_},"❯")]),e("div",he,[(s(!0),t(f,null,g(u.value,($,v)=>(s(),t("span",{key:v,class:W({active:n.value===v}),onClick:a=>n.value=v},null,10,me))),128))])])])}}},ge=I(fe,[["__scopeId","data-v-a5a8c879"]]),be={__name:"Home",setup(k){const m=p(null),d=p(null);return P(async()=>{const[n,o]=await Promise.all([L(),V()]);m.value=n[0]||null,d.value=o[0]||null}),(n,o)=>(s(),t("div",null,[m.value?(s(),S(se,{key:0,data:m.value},null,8,["data"])):b("",!0),d.value?(s(),S(ge,{key:1,data:d.value},null,8,["data"])):b("",!0)]))}};export{be as default};
